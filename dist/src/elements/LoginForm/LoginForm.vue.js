import n from"./LoginForm.vue_rollup-plugin-vue=script.js";import r from"../../../node_modules/vue-runtime-helpers/dist/normalize-component.mjs.js";import o from"../../../node_modules/vue-runtime-helpers/dist/inject-style/browser.mjs.js";const e=n;var s=function(){var n=this,r=n.$createElement,o=n._self._c||r;return o("div",{staticClass:"login-form__wrapper"},[n.showForgotPassword?n._e():o("form",{staticClass:"form",on:{submit:function(r){return r.preventDefault(),n.onSubmitClick(r)}}},[o("div",{staticClass:"avatar"},[o("UserLogo")],1),n._v(" "),o("h2",{staticClass:"msg"},[n._v(n._s(n.heading))]),n._v(" "),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.form.username,expression:"form.username"}],ref:"username",staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"Username",required:!0},domProps:{value:n.form.username},on:{keyup:function(r){n.authError=!1},input:function(r){r.target.composing||n.$set(n.form,"username",r.target.value)}}})]),n._v(" "),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.form.password,expression:"form.password"}],ref:"password",staticClass:"form-control",attrs:{type:"password",name:"password",placeholder:"Password",required:!0},domProps:{value:n.form.password},on:{keyup:function(r){n.authError=!1},input:function(r){r.target.composing||n.$set(n.form,"password",r.target.value)}}})]),n._v(" "),n.authError?o("div",{staticClass:"alert alert-danger"},[n._v("Login failed; Invalid username or password")]):n._e(),n._v(" "),o("div",{staticClass:"form-group"},[o("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[n._v(n._s(n.buttonText))])]),n._v(" "),o("div",{staticClass:"form-group"},[o("a",{attrs:{href:""},on:{click:function(r){r.preventDefault(),n.showForgotPassword=!0}}},[n._v("Forgot password?")])])]),n._v(" "),n.showForgotPassword?o("form",{staticClass:"form",on:{submit:function(r){return r.preventDefault(),n.onSubmitForgotPasswordClick(r)}}},[o("div",{staticClass:"avatar"},[o("UserLogo")],1),n._v(" "),o("h2",{staticClass:"msg"},[n._v("Reset Password")]),n._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:!n.resetPasswordSuccess,expression:"!resetPasswordSuccess"}]},[o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:n.form.forgotPasswordUsernameOrEmail,expression:"form.forgotPasswordUsernameOrEmail"}],ref:"forgotPasswordUsernameOrEmail",staticClass:"form-control",attrs:{type:"text",name:"username",placeholder:"Username or email address",required:!0},domProps:{value:n.form.forgotPasswordUsernameOrEmail},on:{keyup:function(r){n.authError=!1},input:function(r){r.target.composing||n.$set(n.form,"forgotPasswordUsernameOrEmail",r.target.value)}}})]),n._v(" "),n._m(0)]),n._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:n.resetPasswordSuccess,expression:"resetPasswordSuccess"}]},[o("h3",{staticClass:"primary"},[n._v("Success")]),n._v(" "),o("p",[n._v("We've sent an email to the address for your user. Follow the instructions in the email to reset your password.")])]),n._v(" "),o("div",{staticClass:"form-group"},[o("a",{attrs:{href:""},on:{click:function(r){r.preventDefault(),n.resetPasswordSuccess=!1,n.showForgotPassword=!1}}},[n._v("Â« Back")])])]):n._e()])};s._withStripped=!0;const a=r({render:s,staticRenderFns:[function(){var n=this.$createElement,r=this._self._c||n;return r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{type:"submit"}},[this._v("Send Email")])])}]},(function(n){n&&n("data-v-847fddea_0",{source:'.login-form__wrapper {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #212529;\n  width: 350px;\n  padding: 50px 0 0;\n}\n.login-form__wrapper *, .login-form__wrapper ::after, .login-form__wrapper ::before {\n  box-sizing: border-box;\n}\n.login-form__wrapper a {\n  color: #fa225b;\n  text-decoration: none;\n}\n.login-form__wrapper a:hover {\n  text-decoration: underline;\n}\n.login-form__wrapper .primary {\n  color: #fa225b;\n}\n.login-form__wrapper .avatar {\n  position: absolute;\n  margin: 0 auto;\n  left: 0;\n  right: 0;\n  top: -50px;\n  width: 95px;\n  height: 95px;\n  border-radius: 50%;\n  background: #fa225b;\n  padding: 15px;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2);\n}\n.login-form__wrapper .avatar svg {\n  width: 100%;\n  height: 100%;\n}\n.login-form__wrapper .msg {\n  font-size: 22px;\n  margin: 35px 0 25px;\n}\n.login-form__wrapper .form {\n  display: block;\n  color: #7a7a7a;\n  border-radius: 2px;\n  font-size: 13px;\n  background: #ececec;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n  padding: 30px;\n  position: relative;\n}\n.login-form__wrapper .form-group {\n  margin-bottom: 1rem;\n}\n.login-form__wrapper .form-control {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 2px;\n  min-height: 41px;\n  background: #fff;\n  border: 1px solid #e3e3e3;\n  box-shadow: none !important;\n}\n.login-form__wrapper .form-control:focus {\n  outline: 0;\n}\n.login-form__wrapper .btn {\n  display: block;\n  border-radius: 2px;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  line-height: 1.5;\n  font-size: 16px;\n  font-weight: bold;\n  background: #fa225b;\n  border: none;\n  margin-bottom: 20px;\n  color: #fff;\n}\n.login-form__wrapper .form-control.error, .login-form__wrapper .form-control.vf-invalid {\n  border-color: #d9534f;\n  background: #fff0f4;\n}\n.login-form__wrapper .alert {\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n}\n.login-form__wrapper .alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n}\n\n/*# sourceMappingURL=LoginForm.vue.map */',map:{version:3,sources:["/Users/dylan/dev/zuar/frontendtoolbox/src/elements/LoginForm/LoginForm.vue","LoginForm.vue"],names:[],mappings:"AAuMA;EACA,iKAAA;EACA,mCAAA;EACA,kCAAA;EACA,kBAAA;EACA,cAAA;EACA,YAAA;EACA,iBAAA;ACtMA;ADwMA;EACA,sBAAA;ACtMA;ADyMA;EACA,cAAA;EACA,qBAAA;ACvMA;ADyMA;EACA,0BAAA;ACvMA;AD0MA;EACA,cAAA;ACxMA;AD2MA;EACA,kBAAA;EACA,cAAA;EACA,OAAA;EACA,QAAA;EACA,UAAA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,mBAAA;EACA,aAAA;EACA,0CAAA;ACzMA;AD2MA;EACA,WAAA;EACA,YAAA;ACzMA;AD6MA;EACA,eAAA;EACA,mBAAA;AC3MA;AD8MA;EACA,cAAA;EACA,cAAA;EACA,kBAAA;EACA,eAAA;EACA,mBAAA;EACA,0CAAA;EACA,aAAA;EACA,kBAAA;AC5MA;AD8MA;EACA,mBAAA;AC5MA;AD8MA;EACA,cAAA;EACA,WAAA;EACA,yBAAA;EACA,eAAA;EACA,gBAAA;EACA,kBAAA;EACA,gBAAA;EACA,gBAAA;EACA,yBAAA;EACA,2BAAA;AC5MA;AD8MA;EACA,UAAA;AC5MA;AD+MA;EACA,cAAA;EACA,kBAAA;EACA,WAAA;EACA,oBAAA;EACA,gBAAA;EACA,eAAA;EACA,iBAAA;EACA,mBAAA;EACA,YAAA;EACA,mBAAA;EACA,WAAA;AC7MA;ADgNA;EACA,qBAAA;EACA,mBAAA;AC9MA;ADiNA;EACA,kBAAA;EACA,wBAAA;EACA,mBAAA;EACA,6BAAA;EACA,sBAAA;AC/MA;ADiNA;EACA,cAAA;EACA,yBAAA;EACA,qBAAA;AC/MA;;AAEA,wCAAwC",file:"LoginForm.vue",sourcesContent:['<template>\n    <div class="login-form__wrapper">\n\n        \x3c!-- Login --\x3e\n        <form\n            class="form"\n            v-on:submit.prevent="onSubmitClick"\n            v-if="!showForgotPassword">\n            <div class="avatar">\n                <UserLogo />\n            </div>\n            <h2 class="msg">{{heading}}</h2>\n            <div class="form-group">\n                <input \n                    type="text" \n                    class="form-control" \n                    name="username" \n                    placeholder="Username"\n                    ref="username"\n                    v-model="form.username"\n                    v-on:keyup="authError = false"\n                    :required="true">\n            </div>\n            <div class="form-group">\n                <input \n                    type="password" \n                    class="form-control"\n                    name="password" \n                    placeholder="Password" \n                    ref="password"\n                    v-model="form.password"\n                    v-on:keyup="authError = false"\n                    :required="true">\n            </div>\n            \n            <div v-if="authError" class="alert alert-danger">Login failed; Invalid username or password</div>\n\n            <div class="form-group">\n                <button \n                    type="submit"\n                    class="btn btn-primary btn-lg btn-block">{{buttonText}}</button>\n            </div>\n\n            <div class="form-group">\n                <a href v-on:click.prevent="showForgotPassword=true">Forgot password?</a>\n            </div>\n        </form>\n\n        \x3c!-- Forgot Password --\x3e\n        <form\n            class="form"\n            v-on:submit.prevent="onSubmitForgotPasswordClick"\n            v-if="showForgotPassword">\n            <div class="avatar">\n                <UserLogo />\n            </div>\n            <h2 class="msg">Reset Password</h2>\n\n            <div v-show="!resetPasswordSuccess">\n                <div class="form-group">\n                    <input \n                        type="text" \n                        class="form-control" \n                        name="username" \n                        placeholder="Username or email address"\n                        ref="forgotPasswordUsernameOrEmail"\n                        v-model="form.forgotPasswordUsernameOrEmail"\n                        v-on:keyup="authError = false"\n                        :required="true">\n                </div>\n                <div class="form-group">\n                    <button \n                        type="submit"\n                        class="btn btn-primary btn-lg btn-block">Send Email</button>\n                </div>\n            </div>\n\n            <div v-show="resetPasswordSuccess">\n                <h3 class="primary">Success</h3>\n                <p>We\'ve sent an email to the address for your user. Follow the instructions in the email to reset your password.</p>\n            </div>\n\n            <div class="form-group">\n                <a href v-on:click.prevent="resetPasswordSuccess=false; showForgotPassword=false">&laquo; Back</a>\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\n    import UserLogo from \'../../assets/icon-user.svg\'\n    export default {\n        name: \'LoginForm\',\n        props: {\n            heading: String,\n            buttonText: String,\n            server: String\n        },\n        data () {\n            return {\n                authError: false,\n                form: {\n                    username: \'\',\n                    password: \'\'\n                },\n                showForgotPassword: false,\n                resetPasswordSuccess: false\n            }\n        },\n        methods: {\n            onSubmitClick () {\n                // Clear errors\n                this.authError = false\n\n                Object.keys(this.$refs).forEach(loc => {\n                    this.$refs[loc].classList.remove(\'error\')\n                })\n\n                // Build request\n                // let params = new URLSearchParams()\n                // params.append(\'username\', this.form.username)\n                // params.append(\'password\', this.form.password)\n\n                // fetch(`${this.server}/resetpassword`, {\n                //     method: \'POST\',\n                //     headers: {\n                //         \'Content-Type\': \'application/json\'\n                //     },\n                //     body: params,\n                //     redirect: \'manual\'\n                // })\n                // .then(response => {\n                //     if (response.status === 401) {\n                //         this.authError = true\n                //     } else if (response.type === \'opaqueredirect\') {\n                //         // Success\n                //         window.location.href = response.url\n                //     } else if (!response.ok) {\n                //         response.json().then(json => {\n                //             json.detail.forEach(error => {\n                //                 error.loc.forEach(loc => {\n                //                     if (this.$refs[loc]) {\n                //                         this.$refs[loc].classList.add(\'error\')\n                //                     }\n                //                 })\n                //             })\n                //         })\n                //     }\n                // })\n                // .catch(response => {\n                //     console.debug(\'Error signing in or parsing response\', response)\n                // })\n            },\n            onSubmitForgotPasswordClick () {\n                // Build request\n                // let params = new URLSearchParams()\n                // params.append(\'username\', this.form.forgotPasswordUsernameOrEmail)\n\n                // fetch(`${this.server}/login`, {\n                //     method: \'POST\',\n                //     headers: {\n                //         \'Content-Type\': \'application/x-www-form-urlencoded\'\n                //     },\n                //     body: params,\n                //     redirect: \'manual\'\n                // })\n                // .then(response => {\n                //     if (response.status === 401) {\n                //         this.authError = true\n                //     } else if (response.type === \'opaqueredirect\') {\n                //         // Success\n                //         window.location.href = response.url\n                //     } else if (!response.ok) {\n                //         response.json().then(json => {\n                //             json.detail.forEach(error => {\n                //                 error.loc.forEach(loc => {\n                //                     if (this.$refs[loc]) {\n                //                         this.$refs[loc].classList.add(\'error\')\n                //                     }\n                //                 })\n                //             })\n                //         })\n                //     }\n                // })\n                // .catch(response => {\n                //     console.debug(\'Error signing in or parsing response\', response)\n                // })\n\n                // Debug\n                this.resetPasswordSuccess = true\n            }\n        },\n        components: {\n            UserLogo\n        }\n    }\n<\/script>\n\n<style lang="scss">\n    .login-form__wrapper {\n        font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-align: center;\n        color: #212529;\n        width: 350px;\n        padding: 50px 0 0;\n\n        *, ::after, ::before {\n            box-sizing: border-box;\n        }\n\n        a {\n            color: #fa225b;\n            text-decoration: none;\n        }\n        a:hover {\n            text-decoration: underline;\n        }\n\n        .primary {\n            color: #fa225b;\n        }\n\n        .avatar {\n            position: absolute;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n            top: -50px;\n            width: 95px;\n            height: 95px;\n            border-radius: 50%;\n            background: #fa225b;\n            padding: 15px;\n            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2);\n\n            svg {\n                width: 100%;\n                height: 100%;\n            }\n        }\n\n        .msg {\n            font-size: 22px;\n            margin: 35px 0 25px;\n        }\n\n        .form {\n            display: block;\n            color: #7a7a7a;\n            border-radius: 2px;\n            font-size: 13px;\n            background: #ececec;\n            box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n            padding: 30px;\n            position: relative;\n        }\n        .form-group {\n            margin-bottom: 1rem;\n        }\n        .form-control {\n            display: block;\n            width: 100%;\n            padding: .375rem .75rem;\n            font-size: 1rem;\n            line-height: 1.5;\n            border-radius: 2px;\n            min-height: 41px;\n            background: #fff;\n            border: 1px solid #e3e3e3;\n            box-shadow: none !important;\n        }\n        .form-control:focus {\n            outline: 0;\n        }\n\n        .btn {\n            display: block;\n            border-radius: 2px;\n            width: 100%;\n            padding: .5rem 1rem;\n            line-height: 1.5;\n            font-size: 16px;\n            font-weight: bold;\n            background: #fa225b;\n            border: none;\n            margin-bottom: 20px;\n            color: #fff;\n        }\n\n        .form-control.error, .form-control.vf-invalid {\n            border-color: #d9534f;\n            background: #fff0f4;\n        }\n\n        .alert {\n            position: relative;\n            padding: .75rem 1.25rem;\n            margin-bottom: 1rem;\n            border: 1px solid transparent;\n            border-radius: .25rem;\n        }\n        .alert-danger {\n            color: #721c24;\n            background-color: #f8d7da;\n            border-color: #f5c6cb;\n        }\n    }\n</style>\n','.login-form__wrapper {\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #212529;\n  width: 350px;\n  padding: 50px 0 0;\n}\n.login-form__wrapper *, .login-form__wrapper ::after, .login-form__wrapper ::before {\n  box-sizing: border-box;\n}\n.login-form__wrapper a {\n  color: #fa225b;\n  text-decoration: none;\n}\n.login-form__wrapper a:hover {\n  text-decoration: underline;\n}\n.login-form__wrapper .primary {\n  color: #fa225b;\n}\n.login-form__wrapper .avatar {\n  position: absolute;\n  margin: 0 auto;\n  left: 0;\n  right: 0;\n  top: -50px;\n  width: 95px;\n  height: 95px;\n  border-radius: 50%;\n  background: #fa225b;\n  padding: 15px;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.2);\n}\n.login-form__wrapper .avatar svg {\n  width: 100%;\n  height: 100%;\n}\n.login-form__wrapper .msg {\n  font-size: 22px;\n  margin: 35px 0 25px;\n}\n.login-form__wrapper .form {\n  display: block;\n  color: #7a7a7a;\n  border-radius: 2px;\n  font-size: 13px;\n  background: #ececec;\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n  padding: 30px;\n  position: relative;\n}\n.login-form__wrapper .form-group {\n  margin-bottom: 1rem;\n}\n.login-form__wrapper .form-control {\n  display: block;\n  width: 100%;\n  padding: 0.375rem 0.75rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 2px;\n  min-height: 41px;\n  background: #fff;\n  border: 1px solid #e3e3e3;\n  box-shadow: none !important;\n}\n.login-form__wrapper .form-control:focus {\n  outline: 0;\n}\n.login-form__wrapper .btn {\n  display: block;\n  border-radius: 2px;\n  width: 100%;\n  padding: 0.5rem 1rem;\n  line-height: 1.5;\n  font-size: 16px;\n  font-weight: bold;\n  background: #fa225b;\n  border: none;\n  margin-bottom: 20px;\n  color: #fff;\n}\n.login-form__wrapper .form-control.error, .login-form__wrapper .form-control.vf-invalid {\n  border-color: #d9534f;\n  background: #fff0f4;\n}\n.login-form__wrapper .alert {\n  position: relative;\n  padding: 0.75rem 1.25rem;\n  margin-bottom: 1rem;\n  border: 1px solid transparent;\n  border-radius: 0.25rem;\n}\n.login-form__wrapper .alert-danger {\n  color: #721c24;\n  background-color: #f8d7da;\n  border-color: #f5c6cb;\n}\n\n/*# sourceMappingURL=LoginForm.vue.map */']},media:void 0})}),e,void 0,!1,void 0,!1,o,void 0,void 0);export default a;
